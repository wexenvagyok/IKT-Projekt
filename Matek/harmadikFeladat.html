<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1. és 2. fokú függvények ábrázolása</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        canvas {
            border: 1px solid black;
            display: block;
            margin: 20px auto;
        }
        .input-container {
            margin-bottom: 20px;
        }
        input {
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>1. és 2. fokú függvények ábrázolása</h1>

    <div class="input-container">
        <h3>Adja meg az értékeket:</h3>
        <div>
            <label for="m">Lineáris függvény: y = mx + b</label><br>
            <label for="m">m:</label>
            <input type="number" id="m" value="0" step="any">
            <label for="b">b:</label>
            <input type="number" id="b" value="0" step="any">
        </div>
        <div>
            <label for="a">Másodfokú függvény: y = ax² + bx + c</label><br>
            <label for="a">a:</label>
            <input type="number" id="a" value="0" step="any">
            <label for="b2">b:</label>
            <input type="number" id="b2" value="0" step="any">
            <label for="c">c:</label>
            <input type="number" id="c" value="0" step="any">
        </div>
        <button onclick="rajzol()">Rajzol</button>
        <button onclick="torles()">Törlés</button>
        <div>
            <input type="radio" name="gomb"  id="linearis" onchange="rajzollinearis()">lináris mutatása
        </div>
        <div>
            <input type="radio" name="gomb" id="masodfoku" onchange="rajzolmasodfoku()">másodfokú mutatása
        
        </div>

    <canvas id="graph" width="500" height="500"></canvas>

    <script>
        const canvas = document.getElementById('graph');
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;

        const originX = width / 2;
        const originY = height / 2;

        function tengelyrajz() {
            ctx.beginPath();
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 1;
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();

            ctx.beginPath();
            for (let i = 0; i <= width; i += 20) {
                ctx.moveTo(i, originY - 4);
                ctx.lineTo(i, originY + 4);
            }
            for (let j = 0; j <= height; j += 20) {
                ctx.moveTo(originX - 4, j);
                ctx.lineTo(originX + 4, j);
            }
            ctx.stroke();
        }

        function linearisFuggveny(x, m, b) {
            return m * x + b;
        }

        function masodfokuFuggveny(x, a, b, c) {
            return a * Math.pow(x, 2) + b * x + c;
        }

        function oldalfunkcio(fn, color, scale) {
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            let started = false;
            for (let px = -originX; px <= originX; px++) {
                const xLogical = px / scale;
                const yLogical = fn(xLogical);
                const cx = originX + px;
                const cy = originY - yLogical * scale;
                if (!started) {
                    ctx.moveTo(cx, cy);
                    started = true;
                } else {
                    ctx.lineTo(cx, cy);
                }
            }
            ctx.stroke();
        }
        function rajzollinearis() {
            const linearisCheckbox = document.getElementById('linearis');
            if (linearisCheckbox.checked) {
                torles();
                const m = parseFloat(document.getElementById('m').value) || 0;
                const b = parseFloat(document.getElementById('b').value) || 0;
                const scale = 20;
                oldalfunkcio(x => linearisFuggveny(x, m, b), 'blue', scale);
            } 
            else {
                torles();
            }
        }
        function rajzolmasodfoku() {
            const masodfokuCheckbox = document.getElementById('masodfoku');
            if (masodfokuCheckbox.checked) {
                torles();
                const a = parseFloat(document.getElementById('a').value) || 0;
                const b2 = parseFloat(document.getElementById('b2').value) || 0;
                const c = parseFloat(document.getElementById('c').value) || 0;
                const scale = 20;
                oldalfunkcio(x => masodfokuFuggveny(x, a, b2, c), 'red', scale);
            } else {
                torles();
                
            }
        }

        function rajzoljFuggvenyeket(m, b, a, b2, c) {
            ctx.clearRect(0, 0, width, height);
            tengelyrajz();

            const scale = 20;

            oldalfunkcio(x => linearisFuggveny(x, m, b), 'blue', scale);

            oldalfunkcio(x => masodfokuFuggveny(x, a, b2, c), 'red', scale);
        }

        function rajzol() {
            const m = parseFloat(document.getElementById('m').value) || 0;
            const b = parseFloat(document.getElementById('b').value) || 0;
            const a = parseFloat(document.getElementById('a').value) || 0;
            const b2 = parseFloat(document.getElementById('b2').value) || 0;
            const c = parseFloat(document.getElementById('c').value) || 0;

            rajzoljFuggvenyeket(m, b, a, b2, c);
        }
        function torles() {
            ctx.clearRect(0, 0, width, height);
            tengelyrajz();
        }

        window.addEventListener('load', () => {
            tengelyrajz();
            rajzol();
            torles();
        });
    </script>
</body>
</html>
